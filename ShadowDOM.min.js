var SideTable;"undefined"!=typeof WeakMap&&0>navigator.userAgent.indexOf("Firefox/")?SideTable=WeakMap:function(){var e=Object.defineProperty,t=Object.hasOwnProperty,n=(new Date).getTime()%1e9;SideTable=function(){this.name="__st"+(1e9*Math.random()>>>0)+(n++ +"__")},SideTable.prototype={set:function(t,n){e(t,this.name,{value:n,writable:!0})},get:function(e){return t.call(e,this.name)?e[this.name]:void 0}}}();var ShadowDOMPolyfill={};(function(e){"use strict";function t(e){if(!e)throw new Error("Assertion failed")}function n(e,t){return Object.getOwnPropertyNames(t).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function r(e,t){return Object.getOwnPropertyNames(t).forEach(function(n){switch(n){case"arguments":case"caller":case"length":case"name":case"prototype":case"toString":return}Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}function i(e){var t=e.__proto__||Object.getPrototypeOf(e),n=E.get(t);if(n)return n;var r=i(t),o=d(r);return u(t,o,e),o}function o(e,t){l(e,t,!0)}function a(e,t){l(t,e,!1)}function l(e,t,n){Object.getOwnPropertyNames(e).forEach(function(r){if(!(r in t)){T&&e.__lookupGetter__(r);var i;try{i=Object.getOwnPropertyDescriptor(e,r)}catch(o){i=w}var a,l;if(n&&"function"==typeof i.value)return t[r]=function(){return this.impl[r].apply(this.impl,arguments)},void 0;a=function(){return this.impl[r]},(i.writable||i.set)&&(l=function(e){this.impl[r]=e}),Object.defineProperty(t,r,{get:a,set:l,configurable:i.configurable,enumerable:i.enumerable})}})}function s(e,t,n){var i=e.prototype;u(i,t,n),r(t,e)}function u(e,n,r){var i=n.prototype;t(void 0===E.get(e)),E.set(e,n),o(e,i),r&&a(i,r)}function c(e,t){return E.get(t.prototype)===e}function p(e){var t=Object.getPrototypeOf(e),n=i(t),r=d(n);return u(t,r,e),r}function d(e){function t(t){e.call(this,t)}return t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t}function h(e){if(null===e)return null;t(e instanceof b||e instanceof y);var n=v.get(e);if(!n){var r=i(e);n=new r(e),v.set(e,n)}return n}function f(n){return null===n?null:(t(n instanceof e.WrapperEventTarget||n instanceof e.WrapperEvent),n.impl)}function m(n,r){null!==r&&(t(n instanceof b||n instanceof y),t(void 0===r||r instanceof e.WrapperNode),v.set(n,r))}function g(e,t){Object.defineProperty(e.prototype,t,{get:function(){return h(this.impl[t])},configurable:!0,enumerable:!0})}var v=new SideTable,E=new SideTable;Object.getOwnPropertyNames(window);var T=/Firefox/.test(navigator.userAgent),w={get:function(){},set:function(){},configurable:!0,enumerable:!0},b=Node,y=Event;e.addWrapGetter=g,e.assert=t,e.mixin=n,e.registerObject=p,e.registerWrapper=s,e.rewrap=m,e.unwrap=f,e.wrap=h,e.isWrapperFor=c})(this.ShadowDOMPolyfill),function(e){"use strict";function t(t){return t instanceof e.WrapperShadowRoot}function n(e){var t=e.localName;return"content"===t||"shadow"===t}function r(e){return!!e.shadowRoot}function i(i,o){if(t(i))return i.insertionPointParent||e.getHostForShadowRoot(i);var a=i.insertionPointParent;if(a)return a;if(o&&n(i)){var l=i.parentNode;if(l&&r(l))for(var s=getShadowTrees(l),a=o.insertionPointParent,u=0;s.length>u;u++)if(s[u].contains(a))return a}return i.parentNode}function o(e){for(var r=[],o=e,l=[];o;){var s=null;if(n(o)){s=a(r);var u=r[r.length-1]||o;r.push(u)}r.length||r.push(o);var c=r[r.length-1];l.push({target:c,ancestor:o}),t(o)&&r.pop(),o=i(o,s)}return l}function a(e){for(var t=e.length-1;t>=0;t--)if(!n(e[t]))return e[t];return null}function l(r,o){for(;r;){for(var l=[],c=o,p=void 0;c;){var d=null;if(l.length){if(n(c)&&(d=a(l),s(p))){var h=l[l.length-1];l.push(h)}}else l.push(c);if(u(c,r))return l[l.length-1];t(c)&&l.pop(),p=c,c=i(c,d)}r=t(r)?e.getHostForShadowRoot(r):r.parentNode}}function s(e){return e.insertionPointParent}function u(e,t){for(;;){if(e===t)return null!==e;e&&(e=e.parentNode),t&&(t=t.parentNode)}}function c(e){if(!C.get(e)){C.set(e,!0);var t=M(e.target),n=M(e);return p(n,t)}}function p(e,t){var n=o(t);return d(e,n)&&h(e,n)&&f(e,n),P.set(e,A.NONE),O.set(e,null),e.defaultPrevented}function d(e,t){for(var n,r=t.length-1;r>0;r--){var i=t[r].target,o=t[r].ancestor;if(n=i===o?A.AT_TARGET:A.CAPTURING_PHASE,!m(t[r],e,n))return!1}return!0}function h(e,t){var n=A.AT_TARGET;return m(t[0],e,n)}function f(e,t){if(e.bubbles)for(var n=A.BUBBLING_PHASE,r=1;t.length>r;r++){var i=t[r].target,o=t[r].ancestor;if(i!==o&&!m(t[r],e,n))return!1}return!0}function m(e,t,n){var r=e.target,i=e.ancestor,o=L.get(i);if(!o)return!0;if("relatedTarget"in t){var a=S(t),s=M(a.relatedTarget),u=l(i,s);if(u===r)return!1;_.set(t,u)}P.set(t,n);var c=t.type,p=!1;H.set(t,r),O.set(t,i);for(var d=0;o.length>d;d++){var h=o[d];if(h.removed)p=!0;else if(!(h.type!==c||!h.capture&&n===A.CAPTURING_PHASE||h.capture&&n===A.BUBBLING_PHASE))try{if("function"==typeof h.handler?h.handler.call(i,t):h.handler.handleEvent(t),W.get(t))return!1}catch(f){window.onerror?window.onerror(f.message):console.error(f)}}if(p){var m=o.slice();o.length=0;for(var d=0;m.length>d;d++)m[d].removed||o.push(m[d])}return!x.get(t)}function g(e,t,n){this.type=e,this.handler=t,this.capture=Boolean(n)}function v(e){return e&&e.relatedTarget?Object.create(e,{relatedTarget:{value:S(e.relatedTarget)}}):e}function E(e,t,n){var r=window[e],i=function(e,t){this.impl=e instanceof r?e:new r(e,v(t))};return i.prototype=Object.create(t.prototype),n&&y(i.prototype,n),r&&N(r,i,document.createEvent(e)),i}function T(e,t){return function(){arguments[t]=S(arguments[t]);var n=S(this);n[e].apply(n,arguments)}}function w(e){return"function"==typeof e?!0:e&&e.handleEvent}function b(t){return t instanceof e.WrapperShadowRoot&&(t=e.getHostForShadowRoot(t)),S(t)}var y=e.mixin,S=e.unwrap,M=e.wrap,N=e.registerWrapper;e.wrappers,new SideTable;var L=new SideTable,C=new SideTable,H=new SideTable,O=new SideTable,_=new SideTable,P=new SideTable,x=new SideTable,W=new SideTable;g.prototype={equals:function(e){return this.handler===e.handler&&this.type===e.type&&this.capture===e.capture},get removed(){return null===this.handler},remove:function(){this.handler=null}};var D=A,R=function A(e,t){this.impl=e instanceof D?e:new D(e,t)};R.prototype={get target(){return H.get(this)},get currentTarget(){return O.get(this)},get eventPhase(){return P.get(this)},stopPropagation:function(){x.set(this,!0)},stopImmediatePropagation:function(){x.set(this,!0),W.set(this,!0)}},N(A,R,document.createEvent("Event"));var j=E("UIEvent",R);E("CustomEvent",R);var F={get relatedTarget(){return _.get(this)||M(S(this).relatedTarget)}},I=y({initMouseEvent:T("initMouseEvent",14)},F),B=y({initFocusEvent:T("initFocusEvent",5)},F),k=E("MouseEvent",j,I),q=E("FocusEvent",j,B),G=function U(e){this.impl=e},V=document.addEventListener,z=document.removeEventListener,Q=document.dispatchEvent;G.prototype={addEventListener:function(e,t,n){if(w(t)){var r=new g(e,t,n),i=L.get(this);if(i){for(var o=0;i.length>o;o++)if(r.equals(i[o]))return}else i=[],L.set(this,i);i.push(r),V.call(b(this),e,c,!0)}},removeEventListener:function(e,t,n){n=Boolean(n);var r=L.get(this);if(r){for(var i=0,o=!1,a=0;r.length>a;a++)r[a].type===e&&r[a].capture===n&&(i++,r[a].handler===t&&(o=!0,r[a].remove()));o&&1===i&&z.call(b(this),e,c,!0)}},dispatchEvent:function(e){return Q.call(b(this),S(e))}},"undefined"!=typeof U&&N(U,G),e.WrapperEvent=R,e.WrapperEventTarget=G,e.WrapperUIEvent=j,e.WrapperFocusEvent=q,e.WrapperMouseEvent=k,e.adjustRelatedTarget=l}(this.ShadowDOMPolyfill),function(e){"use strict";function t(e,t){Object.defineProperty(e,t,{enumerable:!1})}function n(e){for(var t=new o,n=0,r=e.length;r>n;n++)t[n]=i(e[n]);return t.length=r,t}function r(e,t){e.prototype[t]=function(){return n(this.impl[t].apply(this.impl,arguments))}}var i=e.wrap,o=function(){this.length=0,t(this,"length")};o.prototype={item:function(e){return this[e]}},t(o.prototype,"item"),e.WrapperNodeList=o,e.addWrapNodeListMethod=r,e.wrapNodeList=n}(this.ShadowDOMPolyfill),function(e){"use strict";function t(e,t,n,r){if(e.nodeType!==f.DOCUMENT_FRAGMENT_NODE)return e.parentNode&&e.parentNode.removeChild(e),e.parentNode_=t,e.previousSibling_=n,e.nextSibling_=r,n&&(n.nextSibling_=e),r&&(r.previousSibling_=e),[e];for(var i,o=[];i=e.firstChild;)e.removeChild(i),o.push(i),i.parentNode_=t;for(var a=0;o.length>a;a++)o[a].previousSibling_=o[a-1]||n,o[a].nextSibling_=o[a+1]||r;return n&&(n.nextSibling_=o[0]),r&&(r.previousSibling_=o[o.length-1]),o}function n(e){if(1===e.length)return c(e[0]);for(var t=c(document.createDocumentFragment()),n=0;e.length>n;n++)t.appendChild(c(e[n]));return t}function r(e){for(var t=e.firstChild;t;){l(t.parentNode===e);var n=t.nextSibling,r=c(t);t.previousSibling_=t.nextSibling_=t.parentNode_=null;var i=r.parentNode;i&&i.removeChild(r),t=n}e.firstChild_=e.lastChild_=null}var i=e.WrapperEventTarget,o=e.WrapperNodeList,a=e.addWrapGetter,l=e.assert,s=e.mixin,u=e.registerWrapper,c=e.unwrap,p=e.wrap;e.wrappers;var d=f,h=function f(e){l(e instanceof d),i.call(this,e),this.parentNode_=void 0,this.firstChild_=void 0,this.lastChild_=void 0,this.nextSibling_=void 0,this.previousSibling_=void 0};h.prototype=Object.create(i.prototype),s(h.prototype,{appendChild:function(e){l(e instanceof h),this.invalidateShadowRenderer();var r=this.lastChild,i=null,o=t(e,this,r,i);return this.lastChild_=o[o.length-1],r||(this.firstChild_=o[0]),this.impl.appendChild(n(o)),e},insertBefore:function(e,r){if(!r)return this.appendChild(e);l(e instanceof h),l(r instanceof h),l(r.parentNode===this),this.invalidateShadowRenderer();var i=r.previousSibling,o=r,a=t(e,this,i,o);this.firstChild===r&&(this.firstChild_=a[0]);var s=c(r),u=s.parentNode;return u&&u.insertBefore(n(a),s),e},removeChild:function(e){if(l(e instanceof h),e.parentNode!==this)throw new Error("NotFoundError");this.invalidateShadowRenderer(),this.firstChild===e&&(this.firstChild_=e.nextSibling),this.lastChild===e&&(this.lastChild_=e.previousSibling),e.previousSibling&&(e.previousSibling.nextSibling_=e.nextSibling),e.nextSibling&&(e.nextSibling.previousSibling_=e.previousSibling),e.previousSibling_=e.nextSibling_=e.parentNode_=null;var t=c(e),n=t.parentNode;return n&&n.removeChild(t),e},replaceChild:function(e,r){if(l(e instanceof h),l(r instanceof h),r.parentNode!==this)throw new Error("NotFoundError");this.invalidateShadowRenderer();var i=r.previousSibling,o=r.nextSibling;o===e&&(o=e.nextSibling);var a=t(e,this,i,o);this.firstChild===r&&(this.firstChild_=a[0]),this.lastChild===r&&(this.lastChild_=a[a.length-1]),r.previousSibling_=null,r.nextSibling_=null,r.parentNode_=null;var s=c(r);return s.parentNode&&s.parentNode.replaceChild(n(a),s),r},hasChildNodes:function(){return null===this.firstChild},get parentNode(){return void 0!==this.parentNode_?this.parentNode_:p(this.impl.parentNode)},get firstChild(){return void 0!==this.firstChild_?this.firstChild_:p(this.impl.firstChild)},get lastChild(){return void 0!==this.lastChild_?this.lastChild_:p(this.impl.lastChild)},get nextSibling(){return void 0!==this.nextSibling_?this.nextSibling_:p(this.impl.nextSibling)},get previousSibling(){return void 0!==this.previousSibling_?this.previousSibling_:p(this.impl.previousSibling)},get parentElement(){for(var e=this.parentNode;e&&e.nodeType!==f.ELEMENT_NODE;)e=e.parentNode;return e},get textContent(){for(var e="",t=this.firstChild;t;t=t.nextSibling)e+=t.textContent;return e},set textContent(e){if(r(this),this.invalidateShadowRenderer(),""!==e){var t=this.impl.ownerDocument.createTextNode(e);this.appendChild(t)}},get childNodes(){for(var e=new o,t=0,n=this.firstChild;n;n=n.nextSibling)e[t++]=n;return e.length=t,e},cloneNode:function(e){if(!this.invalidateShadowRenderer())return p(this.impl.cloneNode(e));var t=p(this.impl.cloneNode(!1));if(e)for(var n=this.firstChild;n;n=n.nextSibling)t.appendChild(n.cloneNode(!0));return t},contains:function(e){if(e===this)return!0;var t=e.parentNode;return t?this.contains(t):!1}}),a(h,"ownerDocument"),u(f,h,document.createDocumentFragment()),delete h.prototype.querySelector,delete h.prototype.querySelectorAll,h.prototype=s(Object.create(i.prototype),h.prototype),e.WrapperNode=h}(this.ShadowDOMPolyfill),function(e){"use strict";function t(e){for(;e&&e.nodeType!==Node.ELEMENT_NODE;)e=e.nextSibling;return e}function n(e){for(;e&&e.nodeType!==Node.ELEMENT_NODE;)e=e.previousSibling;return e}var r=e.WrapperNodeList;e.mixin;var i=e.wrap,o=e.wrapNodeList,a={get firstElementChild(){return t(this.firstChild)},get lastElementChild(){return n(this.lastChild)},get childElementCount(){for(var e=0,t=this.firstElementChild;t;t=t.nextElementSibling)e++;return e},get children(){for(var e=new r,t=0,n=this.firstElementChild;n;n=n.nextElementSibling)e[t++]=n;return e.length=t,e}},l={get nextElementSibling(){return t(this.nextSibling)},get previousElementSibling(){return n(this.nextSibling)}},s={querySelector:function(e){return i(this.impl.querySelector(e))},querySelectorAll:function(e){return o(this.impl.querySelectorAll(e))}};e.ChildNodeInterface=l,e.ParentNodeInterface=a,e.SelectorsInterface=s}(this.ShadowDOMPolyfill),function(e){"use strict";var t=e.ChildNodeInterface,n=e.WrapperNode,r=e.mixin,i=e.registerWrapper,o=function a(e){n.call(this,e)};o.prototype=Object.create(n.prototype),r(o.prototype,{get textContent(){return this.data},set textContent(e){this.data=e}}),r(o.prototype,t),i(a,o,document.createTextNode("")),e.WrapperCharacterData=o}(this.ShadowDOMPolyfill),function(e){"use strict";var t=e.ChildNodeInterface,n=e.ParentNodeInterface,r=e.SelectorsInterface,i=e.WrapperNode,o=e.addWrapNodeListMethod,a=e.mixin,l=e.registerWrapper;e.wrappers;var s=new SideTable,u=function c(e){i.call(this,e)};u.prototype=Object.create(i.prototype),a(u.prototype,{createShadowRoot:function(){var t=new e.WrapperShadowRoot(this);return s.set(this,t),new e.ShadowRenderer(this),this.invalidateShadowRenderer(),t},get shadowRoot(){return s.get(this)||null},setAttribute:function(e,t){this.impl.setAttribute(e,t),this.invalidateShadowRenderer()}}),a(u.prototype,t),a(u.prototype,n),a(u.prototype,r),["getElementsByTagName","getElementsByTagNameNS","getElementsByClassName"].forEach(function(e){o(u,e)}),l(c,u),e.WrapperElement=u}(this.ShadowDOMPolyfill),function(e){"use strict";function t(e){switch(e){case"&":return"&amp;";case"<":return"&lt;";case'"':return"&quot;"}}function n(e){return e.replace(h,t)}function r(e){switch(e.nodeType){case Node.ELEMENT_NODE:for(var t,r=e.tagName.toLowerCase(),o="<"+r,a=e.attributes,l=0;t=a[l];l++)o+=" "+t.name+'="'+n(t.value)+'"';return o+=">",f[r]?o:o+i(e)+"</"+r+">";case Node.TEXT_NODE:return n(e.nodeValue);case Node.COMMENT_NODE:return"<!--"+n(e.nodeValue)+"-->";default:throw console.error(e),new Error("not implemented")}}function i(e){for(var t="",n=e.firstChild;n;n=n.nextSibling)t+=r(n);return t}function o(e,t,n){var r=n||"div";e.textContent="";var i=c(e.ownerDocument.createElement(r));i.innerHTML=t;for(var o;o=i.firstChild;)e.appendChild(p(o))}function a(t){Object.defineProperty(m.prototype,t,{get:function(){return e.renderAllPending(),this.impl[t]},configurable:!0,enumerable:!0})}function l(t){Object.defineProperty(m.prototype,t,{value:function(){return e.renderAllPending(),this.impl[t].apply(this.impl,arguments)},configurable:!0,enumerable:!0})}var s=e.WrapperElement,u=e.mixin,c=e.unwrap,p=e.wrap,d=e.registerWrapper,h=/&|<|"/g,f={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},m=function g(e){s.call(this,e)};m.prototype=Object.create(s.prototype),u(m.prototype,{get innerHTML(){return i(this)},set innerHTML(e){o(this,e,this.tagName)},get outerHTML(){return r(this)},set outerHTML(e){if(this.invalidateShadowRenderer())throw new Error("not implemented");this.impl.outerHTML=e}}),["clientHeight","clientLeft","clientTop","clientWidth","offsetHeight","offsetLeft","offsetTop","offsetWidth","scrollHeight","scrollLeft","scrollTop","scrollWidth"].forEach(a),["getBoundingClientRect","getClientRects","scrollIntoView"].forEach(l),d(g,m,document.createElement("b")),e.WrapperHTMLElement=m,e.getInnerHTML=i,e.setInnerHTML=o}(this.ShadowDOMPolyfill),function(e){"use strict";var t=e.WrapperHTMLElement,n=e.mixin,r=e.registerWrapper,i=function o(e){t.call(this,e)};i.prototype=Object.create(t.prototype),n(i.prototype,{get select(){return this.getAttribute("select")},set select(e){this.setAttribute("select",e),this.invalidateShadowRenderer()}}),"undefined"!=typeof o&&r(o,i),e.WrapperHTMLContentElement=i}(this.ShadowDOMPolyfill),function(e){"use strict";var t=e.WrapperHTMLElement,n=e.mixin,r=e.registerWrapper,i=function o(e){t.call(this,e),this.olderShadowRoot_=null};i.prototype=Object.create(t.prototype),n(i.prototype,{get olderShadowRoot(){return this.olderShadowRoot_}}),"undefined"!=typeof o&&r(o,i),e.WrapperHTMLShadowElement=i}(this.ShadowDOMPolyfill),function(e){"use strict";function t(e){if(!e.defaultView)return e;var t=p.get(e);if(!t){for(t=e.implementation.createHTMLDocument("");t.lastChild;)t.removeChild(t.lastChild);p.set(e,t)}return t}function n(e){for(var n,r=t(e.ownerDocument),i=r.createDocumentFragment();n=e.firstChild;)i.appendChild(n);return i}var r=e.WrapperHTMLElement,i=e.getInnerHTML,o=e.mixin,a=e.setInnerHTML,l=e.wrap,s=e.registerWrapper,u="undefined"!=typeof h,c=new SideTable,p=new SideTable,d=function h(e){r.call(this,e)};d.prototype=Object.create(r.prototype),o(d.prototype,{get content(){if(u)return l(this.impl.content);var e=c.get(this);return e||(e=n(this),c.set(this,e)),e},get innerHTML(){return i(this.content)},set innerHTML(e){a(this.content,e),this.invalidateShadowRenderer()}}),u&&s(h,d),e.WrapperHTMLTemplateElement=d}(this.ShadowDOMPolyfill),function(e){"use strict";var t=e.WrapperHTMLContentElement,n=e.WrapperHTMLElement,r=e.WrapperHTMLShadowElement,i=e.WrapperHTMLTemplateElement;e.mixin;var o=e.registerWrapper,a=function l(e){switch(e.localName){case"content":return new t(e);case"shadow":return new r(e);case"template":return new i(e)}n.call(this,e)};a.prototype=Object.create(n.prototype),o(l,a),e.WrapperHTMLUnknownElement=a}(this.ShadowDOMPolyfill),function(e){"use strict";var t=e.ParentNodeInterface,n=e.SelectorsInterface,r=e.mixin,i=e.registerObject,o=i(document.createDocumentFragment());r(o.prototype,t),r(o.prototype,n),i(document.createTextNode("")),i(document.createComment("")),e.WrapperDocumentFragment=o}(this.ShadowDOMPolyfill),function(e){"use strict";var t=e.WrapperDocumentFragment,n=e.getInnerHTML,r=e.mixin,i=e.rewrap,o=e.setInnerHTML,a=e.unwrap,l=new SideTable,s=function(n){var r=a(n.impl.ownerDocument.createDocumentFragment());t.call(this,r),i(r,this);var o=n.shadowRoot;e.nextOlderShadowTreeTable.set(this,o),l.set(this,n),n.invalidateShadowRenderer()};s.prototype=Object.create(t.prototype),r(s.prototype,{get innerHTML(){return n(this)},set innerHTML(e){o(this,e),this.invalidateShadowRenderer()},invalidateShadowRenderer:function(){return l.get(this).invalidateShadowRenderer()}}),e.WrapperShadowRoot=s,e.getHostForShadowRoot=function(e){return l.get(e)}}(this.ShadowDOMPolyfill),function(e){"use strict";function t(e){e.previousSibling_=e.previousSibling,e.nextSibling_=e.nextSibling,e.parentNode_=e.parentNode}function n(e){e.firstChild_=e.firstChild,e.lastChild_=e.lastChild}function r(e){_(e instanceof O);for(var r=e.firstChild;r;r=r.nextSibling)t(r);n(e)}function i(e){var t=x(e);r(e),t.textContent=""}function o(e,n){var i=x(e),o=x(n);o.nodeType===Node.DOCUMENT_FRAGMENT_NODE?r(n):(l(n),t(n)),e.lastChild_=e.lastChild,e.lastChild===e.firstChild&&(e.firstChild_=e.firstChild);var a=W(i.lastChild);a&&(a.nextSibling_=a.nextSibling),i.appendChild(o)}function a(e,n){var r=x(e),i=x(n);t(n),n.previousSibling&&(n.previousSibling.nextSibling_=n),n.nextSibling&&(n.nextSibling.previousSibling_=n),e.lastChild===n&&(e.lastChild_=n),e.firstChild===n&&(e.firstChild_=n),r.removeChild(i)}function l(e){var t=x(e),n=t.parentNode;n&&a(W(n),e)}function s(e,t){c(t).push(e),j.set(e,t)}function u(e){D.set(e,[])}function c(e){return D.get(e)}function p(e){for(var t=[],n=0,r=e.firstChild;r;r=r.nextSibling)t[n++]=r;return t}function d(e,t,n){for(var r=p(e),i=0;r.length>i;i++){var o=r[i];if(t(o)){if(n(o)===!1)return}else d(o,t,n)}}function h(e,t){var n=!1;if(d(e,T,function(e){u(e);for(var r=0;t.length>r;r++){var i=t[r];void 0!==i&&m(i,e)&&(s(i,e),t[r]=void 0,n=!0)}}),!n)return t;for(var r=[],i=0;t.length>i;i++)void 0!==t[i]&&r.push(t[i]);return r}function f(e,t){for(var n=0;t.length>n;n++)if(t[n]in e)return t[n]}function m(e,t){var n=t.getAttribute("select");if(!n)return!0;if(n=n.trim(),!n)return!0;if(e.nodeType!==Node.ELEMENT_NODE)return!1;if(!F.test(n))return!1;if(":"===n[0]&&!I.test(n))return!1;try{return e[B](n)}catch(r){return!1}}function g(){C=null,q.forEach(function(e){e.render()}),q=[]}function v(e){this.host=e,this.dirty=!1,this.associateNode(e)}function E(e){return"CONTENT"==e.tagName}function T(e){return"CONTENT"===e.tagName}function w(e){return"SHADOW"===e.tagName}function b(e){return"SHADOW"===e.tagName}function y(e){return!!e.shadowRoot}function S(e){return A.get(e)}function M(e){for(var t=[],n=e.shadowRoot;n;n=A.get(n))t.push(n);return t}function N(){}function L(e){new v(e).render()}var C,H=e.WrapperHTMLContentElement,O=e.WrapperNode,_=e.assert,P=e.mixin,x=e.unwrap,W=e.wrap,D=new SideTable,R=new SideTable,A=new SideTable,j=new SideTable,F=/^[*.:#[a-zA-Z_|]/,I=new RegExp("^:("+["link","visited","target","enabled","disabled","checked","indeterminate","nth-child","nth-last-child","nth-of-type","nth-last-of-type","first-child","last-child","first-of-type","last-of-type","only-of-type"].join("|")+")"),B=f(document.documentElement,["matchesSelector","msMatchesSelector","mozMatchesSelector","webkitMatchesSelector"]),k=f(window,["requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","setTimeout"]),q=[];v.prototype={render:function(){if(this.dirty){var e=this.host;this.treeComposition();var t=e.shadowRoot;if(t){this.removeAllChildNodes(this.host);var n=p(t);n.forEach(function(n){this.renderNode(e,t,n,!1)},this),this.dirty=!1}}},invalidate:function(){if(!this.dirty){if(this.dirty=!0,q.push(this),C)return;C=window[k](g,0)}},renderNode:function(e,t,n,r){if(y(n)){this.appendChild(e,n);var i=new v(n);i.render()}else E(n)?this.renderInsertionPoint(e,t,n,r):w(n)?this.renderShadowInsertionPoint(e,t,n):this.renderAsAnyDomTree(e,t,n,r)},renderAsAnyDomTree:function(e,t,n,r){if(this.appendChild(e,n),y(n))L(n);else{var i=n,o=p(i);o.forEach(function(e){this.renderNode(i,t,e,r)},this)}},renderInsertionPoint:function(e,t,n,r){var i=c(n);i.length?(this.removeAllChildNodes(n),i.forEach(function(n){E(n)&&r?this.renderInsertionPoint(e,t,n,r):this.renderAsAnyDomTree(e,t,n,r)},this)):this.renderFallbackContent(e,n),this.remove(n)},renderShadowInsertionPoint:function(e,t,n){var r=S(t);if(r){j.set(r,n),n.olderShadowRoot_=r,this.remove(n);var i=p(r);i.forEach(function(t){this.renderNode(e,r,t,!0)},this)}else this.renderFallbackContent(e,n)},renderFallbackContent:function(e,t){var n=p(t);n.forEach(function(t){this.appendChild(e,t)},this)},treeComposition:function(){var e=this.host,t=e.shadowRoot,n=[],r=p(e);r.forEach(function(e){if(E(e)){var t=c(e);t&&t.length||(t=p(e)),n.push.apply(n,t)}else n.push(e)});for(var i,o;t;){if(i=void 0,d(t,b,function(e){return i=e,!1}),o=i,n=h(t,n),o){var a=S(t);if(a){t=a,N(t,o);continue}break}break}},appendChild:function(e,t){o(e,t),this.associateNode(t)},remove:function(e){l(e),this.associateNode(e)},removeAllChildNodes:function(e){i(e)},associateNode:function(e){R.set(e,this)}},O.prototype.invalidateShadowRenderer=function(){var e=R.get(this);return e?(e.invalidate(),!0):!1},H.prototype.getDistributedNodes=function(){return g(),c(this)},P(O.prototype,{get insertionPointParent(){return j.get(this)||null}}),e.ShadowRenderer=v,e.renderAllPending=g,e.nextOlderShadowTreeTable=A,e.getShadowTrees=M,e.visual={removeAllChildNodes:i,appendChild:o,removeChild:a}}(this.ShadowDOMPolyfill),function(e){"use strict";function t(e){var t=Object.getPrototypeOf(document),n=t[e];t[e]=function(){return p(n.apply(this,arguments))},m.prototype[e]=function(){return p(n.apply(this.impl,arguments))}}function n(e){var t=Object.getPrototypeOf(document),n=t[e];t[e]=function(){return d(n.apply(this,arguments))},m.prototype[e]=function(){return d(n.apply(this.impl,arguments))}}function r(e){var t=Object.getPrototypeOf(document);t[e]=function(){var t=p(this);return t[e].apply(t,arguments)}}function i(e,t){e.prototype[t]=function(){return p(this.impl[t].apply(this.impl,arguments))}}function o(e,t){e.prototype[t]=function(){return this.impl[t].apply(this.impl,arguments)}}var a=e.ParentNodeInterface,l=e.WrapperNode,s=e.addWrapGetter,u=e.mixin,c=e.unwrap,p=e.wrap,d=e.wrapNodeList,h=e.registerWrapper,f=new SideTable,m=function g(e){l.call(this,e)};m.prototype=Object.create(l.prototype),s(m,"documentElement"),s(m,"body"),s(m,"head"),u(m.prototype,a),u(m.prototype,{get implementation(){var e=f.get(this);return e?e:(e=new v(c(this).implementation),f.set(this,e),e)}}),h(g,m,document.implementation.createHTMLDocument("")),"undefined"!=typeof HTMLDocument&&h(HTMLDocument,m),["getElementById","querySelector","createElement","createElementNS","createTextNode","createDocumentFragment","createEvent","createEventNS"].forEach(t),["getElementsByTagName","getElementsByTagNameNS","getElementsByClassName","querySelectorAll"].forEach(n),["addEventListener","removeEventListener","dispatchEvent"].forEach(r);var v=function(e){this.impl=e};i(v,"createDocumentType"),i(v,"createDocument"),i(v,"createHTMLDocument"),o(v,"hasFeature"),e.WrapperDocument=m}(this.ShadowDOMPolyfill),function(e){"use strict";function t(e){var t=r[e],n=window[t];if(n){var i=document.createElement(e),o=i.constructor;window[t]=o}}var n=e.isWrapperFor;Object.getOwnPropertyNames(e).forEach(function(t){if(/^Wrapper/.test(t)){var r=e[t],i=t.slice(7),o=window[i];o&&n(r,o)&&(window[i]=r)}}),window.EventTarget||(window.EventTarget=e.WrapperEventTarget);var r={a:"HTMLAnchorElement",applet:"HTMLAppletElement",area:"HTMLAreaElement",audio:"HTMLAudioElement",br:"HTMLBRElement",base:"HTMLBaseElement",body:"HTMLBodyElement",button:"HTMLButtonElement",canvas:"HTMLCanvasElement",dl:"HTMLDListElement",datalist:"HTMLDataListElement",dir:"HTMLDirectoryElement",div:"HTMLDivElement",embed:"HTMLEmbedElement",fieldset:"HTMLFieldSetElement",font:"HTMLFontElement",form:"HTMLFormElement",frame:"HTMLFrameElement",frameset:"HTMLFrameSetElement",hr:"HTMLHRElement",head:"HTMLHeadElement",h1:"HTMLHeadingElement",html:"HTMLHtmlElement",iframe:"HTMLIFrameElement",input:"HTMLInputElement",li:"HTMLLIElement",label:"HTMLLabelElement",legend:"HTMLLegendElement",link:"HTMLLinkElement",map:"HTMLMapElement",menu:"HTMLMenuElement",menuitem:"HTMLMenuItemElement",meta:"HTMLMetaElement",meter:"HTMLMeterElement",del:"HTMLModElement",ol:"HTMLOListElement",object:"HTMLObjectElement",optgroup:"HTMLOptGroupElement",option:"HTMLOptionElement",output:"HTMLOutputElement",p:"HTMLParagraphElement",param:"HTMLParamElement",pre:"HTMLPreElement",progress:"HTMLProgressElement",q:"HTMLQuoteElement",script:"HTMLScriptElement",select:"HTMLSelectElement",source:"HTMLSourceElement",span:"HTMLSpanElement",style:"HTMLStyleElement",caption:"HTMLTableCaptionElement",col:"HTMLTableColElement",table:"HTMLTableElement",tr:"HTMLTableRowElement",thead:"HTMLTableSectionElement",tbody:"HTMLTableSectionElement",textarea:"HTMLTextAreaElement",title:"HTMLTitleElement",ul:"HTMLUListElement",video:"HTMLVideoElement"};Object.keys(r).forEach(t),e.knownElements=r}(this.ShadowDOMPolyfill);